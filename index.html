<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vue-infinite-loading: An infinite scroll plugin for Vue.js</title>
  <link rel="stylesheet" href="static/main.css">
</head>
<body>
  <div class="logo-wrapper">
    <img src="https://github.com/PeachScript/vue-infinite-loading/raw/master/doc/logo.png" alt="LOGO" class="logo">
  </div>
  <p class="desc">An infinite scroll plugin for Vue.js</p>
  <div class="handle-bar">
    <a href="https://github.com/PeachScript/vue-infinite-loading">View on GitHub</a>
    <a href="https://github.com/PeachScript/vue-infinite-loading/archive/master.zip">Download ZIP</a>
    <a href="https://github.com/PeachScript/vue-infinite-loading#install">Usage</a>
  </div>
  <div class="demo-wrapper">
    <div class="demo-inner" id="app">
      <p class="example-list-item" v-for="item in list" v-text="item"></p>
      <infinite-loading :on-infinite="onInfinite"></infinite-loading>
    </div>
  </div>
  <div class="footer">
    Made with love by <a target="_blank" href="https://github.com/PeachScript">PeachScript</a>
    <div class="hide">
      <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1259439622'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/stat.php%3Fid%3D1259439622' type='text/javascript'%3E%3C/script%3E"));</script>
    </div>
  </div>
  <script src="static/vue.min.js"></script>
  <script src="https:///rawgit.com/PeachScript/vue-infinite-loading/master/dist/vue-infinite-loading.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: {
        list: []
      },
      ready: function () {
        for (var i = 0; i < 20; i++) {
          this.list.push(i + 1);
        }
      },
      methods: {
        onInfinite: function () {
          setTimeout(function () {
            var temp = [];
            for (var i = this.list.length; i <= this.list.length + 20; i++) {
              temp.push(i);
            }
            this.list = this.list.concat(temp);
            this.$broadcast('$InfiniteLoading:loaded');
          }.bind(this), 1000);
        }
      }
    });
  </script>
  <script>
    document.getElementById('app').addEventListener('mousewheel', function(event) {
      var scrollTop = this.scrollTop,
          scrollHeight = this.scrollHeight,
          height = this.clientHeight;

      event = event.originalEvent || event;

      var delta = (event.wheelDelta) ? event.wheelDelta : -(event.detail || 0);

      if ((delta > 0 && scrollTop <= delta) || (delta < 0 && scrollHeight - height - scrollTop <= -1 * delta)) {
          this.scrollTop = delta > 0? 0: scrollHeight;
          event.preventDefault();
      }
    });
  </script>
</body>
</html>
